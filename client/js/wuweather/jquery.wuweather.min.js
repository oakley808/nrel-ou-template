/*! newsy 2014-11-21 */

/*!
*  Project: WU Widget
*  Description: Just a little weather widget that uses the WeatherUnderground API
*  Author: Michael Oakley
*  License: MIT
*/
(function(a,b,c,d){var e="wuwidget",f={city:"Denver",state:"CO",unit:"F",apikey:"",url:"http://api.wunderground.com/api/",path:"/geolookup/conditions/q/",iconset:"k"};function g(b,c){this.element=b;this.settings=a.extend({},f,c);this._defaults=f;this._name=e;this.init()}a.extend(g.prototype,{init:function(){var a=this.settings.url+this.settings.apikey+this.settings.path+this.settings.state+"/"+this.settings.city+".json";this.fetchData(a)},fetchData:function(b){var c=this,d=a(c.element);var e=a.ajax({url:b,dataType:"jsonp"});e.done(function(b){var d=b.current_observation.observation_time,e=b["location"]["city"],f=b.location.state,g=b.current_observation.weather,h="http://icons.wxug.com/i/c/"+c.settings.iconset+"/",i=".gif",j=b.current_observation.icon,k;if(c.settings.unit=="F"){k=b.current_observation.temp_f}else{k=b.current_observation.temp_c}a("<h3>",{"class":"wx-loc"}).appendTo(c.element).html("Current Conditions for<br>"+e+", "+f);a("<p>",{"class":"wx-date"}).appendTo(c.element).text(d);a("<h2>",{"class":"wx-temp col-sm-6"}).appendTo(c.element).text(k);a("<span>",{"class":"wx-unit"}).appendTo(".wx-temp").html("&deg;"+c.settings.unit);a("<div>",{"class":"wx-icon col-sm-6"}).appendTo(c.element);a("<img />",{src:h+j+i}).appendTo(".wx-icon");a("<h3>",{"class":"wx-cond"}).appendTo(".wx-icon").text(g)});e.fail(function(){a(c.element).append("<p>Check back later for weather updates.</p>")})}});a.fn[e]=function(b){this.each(function(){if(!a.data(this,"plugin_"+e)){a.data(this,"plugin_"+e,new g(this,b))}});return this}})(jQuery,window,document);
//# sourceMappingURL=jquery.wuweather.min.map